\chapter{Regression}
Linear regression is a very important topic in statistics. It is also a nice
example to demonstrate how Bayesian statistics works and how it is different
from classical or frequentist statistics. Here is an example of a simple linear
regression problem:






The assumption is that the data are a list of measurements:
\begin{eqnarray}
D = \{y_1, y_2, ..., y_N\}.
\end{eqnarray}
Since we are talking about linear regression, we are going to assume that the
relationship between the $x$ and the $y$ variables is described by some
straight line, but there is noise around the straight line:
The linear regression model says:
\begin{eqnarray}
y_i &=& \beta_0 + \beta_1 x_i + \epsilon_i
\end{eqnarray}
If the $\epsilon_i$ values were all zero, then the points would all lie on
a perfectly straight line.

This gives us the likelihood.

The unknown parameters are the intercept of the straight line, the gradient of
the straight line, and the standard deviation of the noise.
\begin{eqnarray}
\boldsymbol{\theta} = \{\beta_0, \beta_1, \sigma\}.
\end{eqnarray}

In JAGS, the model looks like this:
\begin{verbatim}
model
{
    # Prior for all the parameters
    beta0 ~ dnorm(0., pow(1E3, -2))
    beta1 ~ dnorm(0., pow(1E3, -2))
    log_sigma ~ dunif(-10., 10.)
    sigma <- exp(log_sigma)

    # Likelihood
    for(i in 1:N)
    {
        y[i] ~ dnorm(beta0 + beta1*x[i], pow(sigma, -2))
    }
}
\end{verbatim}
The first part defines the priors for the parameters. For $\beta_0$ and $\beta_1$,
we have just chosen very broad priors that describe vague prior knowledge. Note
that the standard deviations of the priors are 1000, so we should be careful
to only apply this code to situtations where we don't expect the intercept or
slope to take on an extreme value.

For the standard deviation parameter $\sigma$ which describes how much we
expect the data points to be scattered around the straight line, we have assigned
a log-uniform prior. The limits of $-10$ and $10$ for {\tt log\_sigma} imply
limits of $4.5 \times 10^{-5}$ to 22,000 for {\tt sigma}, a generous range.
Again, if we thought the scatter
was going to be outside this range, we should change the prior to something
else.



\chapter{Simple Linear Regression With Outliers}

